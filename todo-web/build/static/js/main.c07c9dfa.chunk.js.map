{"version":3,"sources":["page/home.js","page/list.js","route/router.js","reportWebVitals.js","index.js"],"names":["Home","className","href","React","Component","props","formRef","createRef","onClose","setState","visible","addHandel","type","current","resetFields","changeStatus","item","status","axios","post","then","response","queryData","message","success","delHandel","bind","state","columns","title","dataIndex","key","render","text","record","size","onClick","editHander","danger","filters","value","filterMultiple","onFilter","data","pageSize","total","items","this","setTimeout","setFieldsValue","name","content","moment","endTime","itemInfo","format","id","get","list","length","rowKey","dataSource","border","width","placement","closable","bodyStyle","paddingTop","layout","ref","onFinish","event","gutter","span","Item","label","rules","required","TextArea","htmlType","onReset","BasicRoute","exact","path","component","List","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c07c9dfa.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../css/home.css';\r\n\r\n\r\nexport default class Home extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"header\">\r\n                    <h1>导航</h1>\r\n                    <a href='#/list'>任务列表页面</a>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport '../css/list.css';\r\nimport moment from 'moment';\r\nimport axios from 'axios'\r\nimport { Divider, Table, Button, Space, message, Form, Col, Row, Input, DatePicker, Drawer } from 'antd';\r\nexport default class Home extends Component {\r\n  formRef = React.createRef()\r\n  constructor(props) {\r\n    super(props)\r\n    this.queryData = this.queryData.bind(this)\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          title: 'id',\r\n          dataIndex: 'id',\r\n          key: 'id',\r\n        },\r\n        {\r\n          title: '标题',\r\n          dataIndex: 'name',\r\n          key: 'name',\r\n        },\r\n        {\r\n          title: '内容',\r\n          dataIndex: 'content',\r\n          key: 'content',\r\n        },\r\n        {\r\n          title: '截止日期',\r\n          dataIndex: 'endTime',\r\n          key: 'endTime',\r\n        },\r\n        {\r\n          title: '状态',\r\n          dataIndex: 'status',\r\n          key: 'status',\r\n          render: text => ({ '1': \"代办\", '2': \"已完成\", '3': \"已删除\" })[text]\r\n        },\r\n        {\r\n          title: 'Action',\r\n          key: 'action',\r\n          render: (text, record) => (\r\n            <Space size=\"middle\">\r\n              <Button onClick={() => this.editHander(record)}>编辑</Button>\r\n              {\r\n                record.status !== '3' ?\r\n                  <div>\r\n                    <Button type=\"primary\" onClick={() => this.changeStatus(record)}>{record.status === '1' ? '完成' : '代办'}</Button>\r\n                    <Button className='delbox' type=\"primary\" danger onClick={() => this.delHandel(record)}>删除</Button>\r\n                  </div>\r\n                  : null\r\n              }\r\n            </Space>\r\n          ),\r\n          filters: [\r\n            {\r\n              text: '代办',\r\n              value: '1',\r\n            },\r\n            {\r\n              text: '完成',\r\n              value: '2',\r\n            },\r\n            {\r\n              text: '删除',\r\n              value: '3',\r\n            },\r\n          ],\r\n          filterMultiple: false,\r\n          onFilter: (value, record) => record.status === value,\r\n        },\r\n      ],\r\n      visible: false,\r\n      data: [],\r\n      pageSize: 10,\r\n      total: 30,\r\n      type: 'add',\r\n      items: {}\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() { // 组件已挂载, 可进行状态更新操作\r\n    this.queryData(); // 查询所有\r\n  }\r\n  // 重置表单\r\n  onReset() {\r\n    this.formRef.current.resetFields()\r\n  }\r\n  onClose = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n  // 新增表单\r\n  addHandel = () => {\r\n    this.setState({\r\n      visible: true,\r\n      type: 'add'\r\n    }, () => {\r\n      this.formRef.current.resetFields()\r\n    });\r\n  };\r\n  // 更改状态, 根据demo来\r\n  changeStatus = (item) => {\r\n    if (item.status === '2') {\r\n      item.status = '1' // 从完成变成代办\r\n      axios.post('http://127.0.0.1:3333/update_status', item)\r\n        .then(response => {\r\n          this.queryData();\r\n          message.success('状态变更代办成功');\r\n        })\r\n    } else if (item.status === '1') {\r\n      item.status = '2' // 从代办变成完成\r\n      axios.post('http://127.0.0.1:3333/update_status', item)\r\n        .then(response => {\r\n          this.queryData();\r\n          message.success('状态变更完成');\r\n        })\r\n    }\r\n  }\r\n  // 删除数据\r\n  delHandel = (item) => {\r\n    message.success('任务删除成功');\r\n    item.status = '3' // 全部改成删除装填\r\n    axios.post('http://127.0.0.1:3333/update_status', item)\r\n      .then(response => {\r\n        this.queryData();\r\n      })\r\n  }\r\n  // 修改数据\r\n  editHander(item) {\r\n    this.setState({\r\n      visible: true,\r\n      type: 'update',\r\n      items: item\r\n    });\r\n    // 重新赋值\r\n    setTimeout(() => {\r\n      this.formRef.current.setFieldsValue({\r\n        \"name\": item.name,\r\n        \"content\": item.content,\r\n        \"endTime\": moment(item.endTime)\r\n      })\r\n    })\r\n  }\r\n  // 提交表单\r\n  onFinish(itemInfo) {\r\n    itemInfo.endTime = moment(itemInfo.endTime).format('YYYY-MM-DD') //这么解决的\r\n    if (this.state.type === 'add') {      // 调用新增接口\r\n      itemInfo.status = '1'; // 默认是1\r\n      axios.post('http://127.0.0.1:3333/create', itemInfo)\r\n        .then(response => {\r\n          message.success('任务新增完成');\r\n          this.queryData()\r\n          this.setState({\r\n            visible: false,\r\n          });\r\n        })\r\n    } else {   // 调用修改接口\r\n      itemInfo.status = this.state.items.status\r\n      itemInfo.id = this.state.items.id\r\n      axios.post('http://127.0.0.1:3333/update', itemInfo)\r\n        .then(response => {\r\n          message.success('任务修改完成');\r\n          this.queryData()\r\n          this.setState({\r\n            visible: false,\r\n          });\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  // 查询所有列表\r\n  queryData() {\r\n    axios.get('http://127.0.0.1:3333/list/')\r\n      .then(response => {\r\n        var items = response.data.list;\r\n        this.setState({\r\n          data: [...items],\r\n          total: items.length\r\n        });\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { columns } = this.state\r\n\r\n    return (\r\n      <div className=\"listbox\">\r\n        <div className=\"header\">\r\n          <h1>导航</h1>\r\n          <a href='/home'>返回首页</a>\r\n        </div>\r\n        <div className=\"divide\">\r\n          <Divider>任务列表</Divider>\r\n        </div>\r\n        <div className=\"box\">\r\n          <Button type=\"primary\" onClick={this.addHandel}>新增</Button>\r\n          <div className=\"table\">\r\n            <Table columns={columns} rowKey='id' dataSource={this.state.data} border total={this.state.total} pageSize={this.state.pageSize} />\r\n          </div>\r\n        </div>\r\n        <Drawer\r\n          title=\"新增任务\"\r\n          width={500}\r\n          placement=\"right\"\r\n          closable={false}\r\n          onClose={this.onClose}\r\n          visible={this.state.visible}\r\n          bodyStyle={{ paddingTop: 80 }}\r\n        >\r\n          <Form layout=\"vertical\" ref={this.formRef} onFinish={(event) => this.onFinish(event)}>\r\n            <Row gutter={16}>\r\n              <Col span={24}>\r\n                <Form.Item\r\n                  name=\"name\"\r\n                  label=\"任务名称:\"\r\n                  rules={[{ required: true, message: '请必须输入任务名称' }]}\r\n                >\r\n                  <Input />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={16}>\r\n              <Col span={24}>\r\n                <Form.Item\r\n                  name=\"endTime\"\r\n                  label=\"任务截止日期:\"\r\n                  rules={[{ required: true, message: '请必须输入任务名称' }]}\r\n                >\r\n                  <DatePicker className=\"dateStyle\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={16}>\r\n              <Col span={24}>\r\n                <Form.Item\r\n                  name=\"content\"\r\n                  label=\"任务内容:\"\r\n                  rules={[{ required: false }]}\r\n                >\r\n                  <Input.TextArea />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={16}>\r\n              <Col span={8}> <Button type=\"primary\" htmlType=\"submit\">提交</Button> </Col>\r\n              <Col span={8}> <Button onClick={() => this.onReset()}>重置</Button> </Col>\r\n              <Col span={8}> <Button type=\"primary\" danger onClick={this.onClose}>取消</Button> </Col>\r\n            </Row>\r\n          </Form>\r\n        </Drawer>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport {HashRouter, Route, Switch} from 'react-router-dom';\r\nimport Home from '../page/home';\r\nimport List from '../page/list';\r\n\r\n\r\n// 配置路由\r\nconst BasicRoute = () => (\r\n    <HashRouter>\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Home}/>\r\n            <Route exact path=\"/list\" component={List}/>\r\n        </Switch>\r\n    </HashRouter>\r\n);\r\n\r\n\r\nexport default BasicRoute;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Router from '../src/route/router';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <Router/>,\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}